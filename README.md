# ðŸŒ GeoForecaster

A geopolitical super-forecasting platform that extracts and visualizes time-varying data from CIA World Factbook editions for trend analysis.

![Dashboard Preview](docs/dashboard.png)

## ðŸ“‹ Project Scope

### Current Capabilities
- **Data Source**: 2010 CIA World Factbook (parsed from raw HTML).
- **Core Dataset**: Focuses on time-varying indicators relevant for forecasting:
    - **Demographics**: Population (adjusted for density), Growth Rates, Median Age.
    - **Economy**: GDP (PPP), Trade Balance, Debt, Energy Production.
    - **Political**: Leadership and Election cycles.
    - **Military**: Expenditures and Manpower.
- **Visualization**: Dashboard with global stats, leaderboards, and side-by-side comparison tables.
- **3D Globe**: Interactive globe with multiple visualization modes (GDP, Population, Military, Growth, Trade Balance).
- **Risk Analysis**: Composite stability indices aggregating economic, political, military, and demographic factors.
- **Anomaly Detection**: Statistical alerts for militarization, economic collapse, demographic cliffs, and trade imbalances.
- **AI Insights**: Rule-based contextual insights on country and regional pages.

### Future Roadmap
- **Trend Analysis**: Ingestion of multi-year datasets (1990-2025) to generate time-series graphs and detect significant geopolitical shifts (e.g., "Rapid Militarization Alert" or "Economic Collapse Warning").

---

## ðŸš€ Quick Start

```bash
# Install dependencies
npm install

# Run development server
npm run dev
# Open http://localhost:3000
```
*(See Multi-Year Data Ingestion below for trend analysis)*

---

## ðŸ—ï¸ Architecture

```
/
â”œâ”€â”€ extract_factbook.py    # Python extraction script (Stream processing ~18MB HTML)
â”œâ”€â”€ merge_timeseries.py    # Trend detection utility
â”œâ”€â”€ data/                  # Extracted JSON data (No database required)
â”‚   â”œâ”€â”€ 2010/              # Per-year country files
â”‚   â””â”€â”€ _merged/           # Time-series aggregations
â””â”€â”€ src/                   # Next.js Application
    â”œâ”€â”€ app/               # App Router & API
    â”‚   â”œâ”€â”€ analysis/      # Risk/Stability index page
    â”‚   â”œâ”€â”€ alerts/        # Anomaly detection page
    â”‚   â”œâ”€â”€ compare/       # Country comparison tool
    â”‚   â”œâ”€â”€ countries/     # Country listing & detail pages
    â”‚   â”œâ”€â”€ globe/         # Interactive 3D globe
    â”‚   â”œâ”€â”€ methodology/   # Data source documentation
    â”‚   â”œâ”€â”€ regions/       # Regional deep-dive pages
    â”‚   â””â”€â”€ trends/        # Time-series analysis
    â”œâ”€â”€ components/        # UI (Globe, Navigation)
    â””â”€â”€ lib/               # Data utilities & analysis algorithms
        â”œâ”€â”€ data.ts        # Data loading functions
        â”œâ”€â”€ analysis.ts    # Risk index calculations
        â”œâ”€â”€ insights.ts    # AI insight generators
        â””â”€â”€ anomalies.ts   # Anomaly detection
```

---

## ðŸ“… Multi-Year Data Ingestion (Trend Analysis)

Full time-series trend analysis requires ingesting additional Factbook editions. The application is pre-built with UI ready for multi-year data - simply ingest the additional years and trends will appear automatically.

### Recommended Historical Editions

| Year | Significance | Source |
|------|-------------|--------|
| 2000 | Pre-9/11 Baseline | Project Gutenberg, CIA Archives |
| 2010 | Post-Crisis Recovery | **Currently Loaded** |
| 2015 | Mid-decade Checkpoint | CIA Archives |
| 2020 | Pre-Pandemic Peak | CIA.gov |
| 2025 | Current State | CIA.gov |

### Ingestion Workflow

```bash
# 1. Download HTML factbook edition
# Project Gutenberg: https://www.gutenberg.org/
# CIA Archives: https://www.cia.gov/the-world-factbook/

# 2. Run extraction script with year flag
python extract_factbook.py factbook_2000.html --year 2000
python extract_factbook.py factbook_2015.html --year 2015
python extract_factbook.py factbook_2020.html --year 2020

# 3. Merge all years into time-series dataset
python merge_timeseries.py

# 4. Restart the application
npm run dev
```

### What Changes With Multi-Year Data

Once additional years are ingested:

1. **Trends Page** (`/trends`): Line charts showing metric evolution over time
2. **Country Pages**: Historical context and trend indicators
3. **Anomaly Detection**: Year-over-year change detection (e.g., "Military spending up 200% since 2010")
4. **Globe**: Time slider to visualize changes across years

### Data Directory Structure

```
data/
â”œâ”€â”€ 2000/
â”‚   â”œâ”€â”€ _index.json
â”‚   â”œâ”€â”€ united_states.json
â”‚   â””â”€â”€ ... (per-country files)
â”œâ”€â”€ 2010/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ 2015/
â”‚   â””â”€â”€ ...
â””â”€â”€ _merged/
    â”œâ”€â”€ timeseries.json    # Generated by merge_timeseries.py
    â””â”€â”€ changes.json       # Year-over-year deltas
```

---

## ðŸ” Security & Deployment

Designed for **AWS Amplify** with high-security standards:
- **Strict-Transport-Security (HSTS)**: Enforced HTTPS.
- **Content-Security-Policy (CSP)**: Strict resource control.
- **Permissions-Policy**: Locks down device features (Camera, Mic, Location).

Deployed at: `https://rockrun.cloud`

---

## ðŸ“Š Features Overview

### Interactive 3D Globe (`/globe`)
- **Multiple Visualization Modes**: GDP, Population, Military Spending, GDP Growth, Trade Balance
- **Click-to-Navigate**: Click any country to view detailed analysis
- **Trade Arcs**: Visualize major trade relationships between economies
- **Dynamic Legends**: Context-appropriate color scales

### Risk & Stability Analysis (`/analysis`)
- **Composite Risk Index**: Aggregates economic (30%), political (25%), military (25%), and demographic (20%) factors
- **Global Rankings**: Compare countries by stability score
- **Regional Breakdowns**: Filter and analyze by geographic region

### Anomaly Detection (`/alerts`)
- **Militarization Alerts**: Military spending >2 std dev above regional mean
- **Economic Collapse Warnings**: Negative GDP growth + high inflation
- **Demographic Cliff**: Negative population growth + high median age
- **Trade Imbalance**: Sustained large trade deficits
- **Debt Crisis**: External debt exceeding GDP thresholds
- **Hyperinflation**: Inflation rates >25%

### AI-Generated Insights
- **Country Pages**: Contextual insights comparing to regional/global benchmarks
- **Regional Pages**: Aggregate analysis and dominant economy identification
- **Rule-Based System**: Consistent, interpretable insight generation

---

## License

Data source: CIA World Factbook (Public Domain)
Code: MIT License
